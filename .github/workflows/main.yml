name: Electron Desktop App Build

on:
  push:
    branches: [ "main" ]

permissions: write-all

jobs:
    Build:
        runs-on: ubuntu-latest

        steps:
            - name: Check out Git repository
              uses: actions/checkout@v2

            - name: Setup Node.js
              uses: actions/setup-node@v4
              with:
                node-version: 18
    
            - name: Build Electron Desktop App
              # env:
              #   repo-token: ${{ secrets.GITHUB_TOKEN }}
              run: |
                npm install -y
                npm install -g electron-builder -y
                electron-builder --linux

            # - name: upload app
            #   if: always()
            #   continue-on-error: true
            #   uses: actions/upload-artifact@master
            #   with:
            #       name: Desktop Application
            #       path: |
            #         ./dist/electron-demo-1.0.0.dmg
            #         ./dist/electron-demo_1.0.0_amd64.snap
            #         ./dist/electron-demo Setup 1.0.0.exe